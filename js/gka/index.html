<!DOCTYPE html>
<html>
<head>
	<script data-dojo-config="" type="text/javascript" src="js/dojo/dojo.js"></script>
</head>
<body>
	<div id="accounts"></div>
	<script type="text/javascript">
		;(function(){
			var accounts, account,
				tableNode, rowNode, cellNode, textNode,
				amount
			accounts = getData()
			accounts = getAccounts(accounts.transactions)
			tableNode = document.createElement("TABLE")
			rowNode = document.createElement("TR")
			tableNode.appendChild(rowNode)
			for(account in accounts){
				cellNode = document.createElement("TH")
				rowNode.appendChild(cellNode)
				textNode = document.createTextNode(account)
				cellNode.appendChild(textNode)
			}
			rowNode = document.createElement("TR")
			tableNode.appendChild(rowNode)
			for(account in accounts){
				cellNode = document.createElement("TD")
				rowNode.appendChild(cellNode)
				amount = Math.round(accounts[account]) + " Û"
				textNode = document.createTextNode(amount)
				cellNode.appendChild(textNode)
			}
			var targetNode = document.getElementById("accounts")
			targetNode.appendChild(tableNode)
		})
	</script>
</body>
</html>
